{"version":3,"sources":["../../src/pages/add-project/add-project.module.ts","../../src/pages/add-project/add-project.ts"],"names":[],"mappings":"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","file":"23.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddProjectPage } from './add-project';\n\n@NgModule({\n  declarations: [\n    AddProjectPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddProjectPage),\n  ],\n})\nexport class AddProjectPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-project/add-project.module.ts","import { AlertController } from 'ionic-angular';\nimport { MessageHelper } from './../../providers/message-helper';\nimport { DataValidation } from './../../Utils/DataValidation';\nimport { Codes } from './../../Utils/Codes';\nimport { HttpProvider } from './../../providers/data/data';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Grid } from 'ionic-angular';\nimport { ModalController } from 'ionic-angular';\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-add-project',\n  templateUrl: 'add-project.html',\n})\nexport class AddProjectPage {\n\n  projectName: any = null;\n  projectAlias: any = null;\n  projectDescription: any = null;\n  businessUnitId: any = null;\n  brandId: any = null;\n  projectTypeId: any = null;\n  nVideos: any = null;\n  nPhotos: any = null;\n  nWallpapers: any = null;\n  nOthers: any = null;\n  eStartDate : any = '2020-03-30';\n  eEndDate : any = '2020-03-30';\n  aStartDate : any = '2020-03-30';\n  aEndDate : any = '2020-03-30';\n\n\n  projectTypes: any = null;\n  businessUnits: any = null;\n  brands: any = null;\n  users: any = null;\n  areas: any = null;\n  materials: any = null;\n  activites : any = null;\n  roles: any = null;\n  areaIds: any = null; \n\n\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public modalCtrl: ModalController,\n    public httpCall: HttpProvider, public codes: Codes, public dataValidation: DataValidation,\n    public msgHelper: MessageHelper, public alertController: AlertController) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddProjectPage');\n\n\n    //Load the project phases\n    var requestJson = {\n      \"ProjectStatus\": 4,\n      \"AppType\": \"W\"\n    };\n\n    this.httpCall.callApi(requestJson, this.codes.API_GET_PROJECT_INFO).then(responseJson => {\n\n      if (this.dataValidation.isEmptyJson(responseJson)) {\n        this.msgHelper.showErrorDialog('Error !!!', 'Empty response received from Server !!!');\n        return;\n      }\n\n\n      this.users = responseJson['resultData']['ProjectUserLookup'];\n      this.businessUnits = responseJson['resultData']['BULookup'];\n      this.areas = responseJson['resultData']['AreaLookup'];\n      this.brands = responseJson['resultData']['BrandLookup'];\n      this.projectTypes = responseJson['resultData']['ProjectTypeLookup'];\n      this.materials = responseJson['resultData']['MaterialLookup'];\n      this.roles = responseJson['resultData']['RoleLookup'];\n\n    });\n\n\n    var reqJson = {\n      \"AppType\": \"W\"\n    };\n    this.httpCall.callApi(reqJson, this.codes.API_GET_ACTIVITY).then(respJson => {\n\n      if (this.dataValidation.isEmptyJson(respJson)) {\n        this.msgHelper.showErrorDialog('Error !!!', 'Empty response received from Server !!!');\n        return;\n      }\n\n      this.activites = respJson['resultData'];\n\n      for (let i = 0; i < this.activites.length; i++) {\n          this.activites[i]['PhaseName'] = this.getPhaseNameByPhaseId(this.activites[i]['PhaseId']);\n          this.activites[i]['userIds'] = [];\n          this.activites[i]['materialId'] = 1;\n          this.activites[i]['roleId'] = 1;\n\n          this.activites[i]['eStartDate'] = '2020-03-30';\n          this.activites[i]['aStartDate'] = '2020-03-30';\n          this.activites[i]['eEndDate'] = '2020-03-30';\n          this.activites[i]['aEndDate'] = '2020-03-30';\n      }\n    });\n  }\n\n  closeModal() {\n    this.navCtrl.pop();\n  }\n\n\n  //TODO: Make this server driven\n  getPhaseNameByPhaseId(phaseId) {\n    if (phaseId == 1)\n      return \"Pre Production\";\n    if (phaseId == 2)\n      return \"Production\";\n    if (phaseId == 3)\n      return \"Post Production\";\n    if (phaseId == 4)\n      return \"Analysis\";\n  }\n\n\n\n  addProject(){\n\n    //Create the json for activity\n    var projectPhases  = [];\n    for(let i=0;i<this.activites.length;i++){\n        projectPhases[i]  = this.getActivityInPostFormat(this.activites[i]);\n    }\n\n\n    var requestData = {\n      \"ProjectMode\":1,\n      \"SelectedArea\":this.areaIds,\n      \"ProjectName\":this.projectName,\n      \"ProjectAlias\":this.projectAlias,\n      \"ProjectDescription\":this.projectDescription,\n      \"BusinessUnitID\":this.businessUnitId,\n      \"ProjectTypeID\":this.projectTypeId,\n      \"ExpectedStartDate\":this.eStartDate,\n      \"ActualStartDate\":this.aStartDate,\n      \"ExpectedEndDate\":this.eEndDate,\n      \"ActualEndDate\":this.aEndDate,\n      \"IsBranded\":false,\n      \"BrandID\":this.brandId,\n      \"ProjectIcon\":null,\n      \"ProjectStatus\":0,\n      \"CompletePer\":0.0,\n      \"ProjectOwner\":0,\n      \"ProjectOwnerName\":null,\n      \"NoOfVideos\":this.nVideos,\n      \"NoOfWallPapers\":this.nWallpapers,\n      \"NoOfPhotos\":this.nPhotos,\n      \"NoOfOthers\":this.nOthers,\n      \"CreatedByID\":0,\n      \"BrandImagePath\":null,\n      \"CreatedOn\":new Date().getDate(),\n      \"CreatedBy\":0,\n      \"CreatedByUserName\":null,\n      \"ModifiedOn\":new Date().getDate(),\n      \"LastModifiedBy\":0,\n      \"LastModifiedByUserName\":null,\n      \"ProjectPhases\":projectPhases\n    };\n\n\n    console.warn('To Post this data : '+requestData);\n\n\n\n\n\n  }\n\n\n\n\n  getActivityInPostFormat(activity){\n\n    var json = {         \n\"Activity\":{           \n   \"AssignedUserID\":activity['userIds'],\n   \"ProjectID\":0,\n   \"ProjectTypeID\":this.projectTypeId,\n   \"PhaseID\":activity['PhaseId'],\n   \"ActivityID\":activity['ActivityId'],\n   \"EndDate\":activity['aEndDate'],\n   \"AssignedMaterialID\":activity['materialId'],\n   \"ActivityRoleID\":activity['roleId'],\n   \"CoinRewardQuantity\":activity['CoinRewardQuantity'],\n   \"DiamondRewardQuantity\":activity['DiamondRewardQuantity'],\n   \"CouponRewardQuantity\":activity['CouponRewardQuantity'],\n   \"TrophyRewardQuantity\":activity['TrophyRewardQuantity'],\n   \"IsFinished\":false\n\n},\n\"ProjectID\":0,\n\"PhaseID\":activity['PhaseId'],\n\"PhaseName\":activity['PhaseName'],\n\"PhaseDescription\":activity['PhaseName'],\n\"ExpectedStartDate\":activity['eStartDate'],\n\"ActualStartDate\":activity['aStartDate'],\n\"ExpectedEndDate\":activity['eEndDate'],\n\"ActualEndDate\":activity['aEndDate']\n};\n\n\n  return json;\n\n\n\n\n  }\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-project/add-project.ts"],"sourceRoot":""}