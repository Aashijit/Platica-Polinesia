<ion-header style="padding-left:10px !important; padding-right:10px !important">
  <!--header starts here-->
  <ion-row>
   <ion-col class="nopadding mt-16" (click)="goToProjectSelection()">
     <round-progress [current]="75" [max]="100" [radius]="20" [stroke]="7" [color]="'#00ff00'"></round-progress>
     <img src="../../assets/imgs/icon_video.png" style="width: 26px !important;
     position: absolute;
     top: 7px !important;
     left: 7px !important;" />
   </ion-col>

   <ion-col class="nopadding mt-20">
     <star-provider [coins]="50" [stars]="20" [videos]="150"></star-provider>
   </ion-col>

   <ion-col class="nopadding">
    <user-info [messageNumber]="0" [notificationNumber]="0" (click)="goToUserMessages()" style="position: absolute;top: 0px !important;right: 0px !important;"></user-info>      
   </ion-col>

 </ion-row>
<!--header ends here-->
</ion-header>

<!--Body starts here-->
<ion-content padding class="background-content mt-66" style="height: 80% !important; width: 95% !important; margin-left: 2.5% !important; text-align: center;">

  <ion-item>
    <ion-label floating>Select user type</ion-label>
    <ion-select interface="popover" [(ngModel)]="selectedUserTypeId" (ionChange)="recallPermission()">
      <p *ngFor="let userType of userTypes">
      <ion-option value="{{userType['UserTypeId']}}">{{userType['UserTypeName']}}</ion-option>
      </p>
    </ion-select>
  </ion-item>



  <ion-list style="margin-top: 10% !important;" *ngIf="!dataValidation.isEmptyJson(permissionList)">

    <ion-item>
      <ion-row >
        <ion-col col-6><strong style="color: rgb(3, 93, 116) !important;">Projects</strong></ion-col>

        <ion-col col-1  (click)="change(0,'CanAdd')"  [ngClass]="permissionList[0]['CanAdd']==true ? 'selected' : 'unselected'"><ion-icon name="add"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(0,'CanModify')" [ngClass]="permissionList[0]['CanModify']==true ? 'selected' : 'unselected'"><ion-icon name="create"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(0,'CanDelete')" [ngClass]="permissionList[0]['CanDelete']==true ? 'selected' : 'unselected'"><ion-icon name="trash"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(0,'CanView')" [ngClass]="permissionList[0]['CanView']==true ? 'selected' : 'unselected'"><ion-icon name="eye"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(0,'CanOnlyHisUser')" [ngClass]="permissionList[0]['CanOnlyHisUser']==true ? 'selected' : 'unselected'"><ion-icon name="contact"></ion-icon></ion-col>
      </ion-row>
    </ion-item>


    <ion-item>
      <ion-row>
        <ion-col col-6><strong style="color: rgb(3, 93, 116) !important;">Recognition</strong></ion-col>

        <ion-col col-1  (click)="change(1,'CanAdd')"  [ngClass]="permissionList[1]['CanAdd']==true ? 'selected' : 'unselected'"><ion-icon name="add"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(1,'CanModify')" [ngClass]="permissionList[1]['CanModify']==true ? 'selected' : 'unselected'"><ion-icon name="create"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(1,'CanDelete')" [ngClass]="permissionList[1]['CanDelete']==true ? 'selected' : 'unselected'"><ion-icon name="trash"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(1,'CanView')" [ngClass]="permissionList[1]['CanView']==true ? 'selected' : 'unselected'"><ion-icon name="eye"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(1,'CanOnlyHisUser')" [ngClass]="permissionList[1]['CanOnlyHisUser']==true ? 'selected' : 'unselected'"><ion-icon name="contact"></ion-icon></ion-col>
      </ion-row>
    </ion-item>

    <ion-item>
      <ion-row>
        <ion-col col-6><strong style="color: rgb(3, 93, 116) !important;">Rewards</strong></ion-col>

        <ion-col col-1  (click)="change(2,'CanAdd')"  [ngClass]="permissionList[2]['CanAdd']==true ? 'selected' : 'unselected'"><ion-icon name="add"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(2,'CanModify')" [ngClass]="permissionList[2]['CanModify']==true ? 'selected' : 'unselected'"><ion-icon name="create"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(2,'CanDelete')" [ngClass]="permissionList[2]['CanDelete']==true ? 'selected' : 'unselected'"><ion-icon name="trash"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(2,'CanView')" [ngClass]="permissionList[2]['CanView']==true ? 'selected' : 'unselected'"><ion-icon name="eye"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(2,'CanOnlyHisUser')" [ngClass]="permissionList[2]['CanOnlyHisUser']==true ? 'selected' : 'unselected'"><ion-icon name="contact"></ion-icon></ion-col>
      </ion-row>
    </ion-item>

    <ion-item>
      <ion-row>
        <ion-col col-6><strong style="color: rgb(3, 93, 116) !important;">Talents</strong></ion-col>

        <ion-col col-1  (click)="change(3,'CanAdd')"  [ngClass]="permissionList[3]['CanAdd']==true ? 'selected' : 'unselected'"><ion-icon name="add"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(3,'CanModify')" [ngClass]="permissionList[3]['CanModify']==true ? 'selected' : 'unselected'"><ion-icon name="create"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(3,'CanDelete')" [ngClass]="permissionList[3]['CanDelete']==true ? 'selected' : 'unselected'"><ion-icon name="trash"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(3,'CanView')" [ngClass]="permissionList[3]['CanView']==true ? 'selected' : 'unselected'"><ion-icon name="eye"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(3,'CanOnlyHisUser')" [ngClass]="permissionList[3]['CanOnlyHisUser']==true ? 'selected' : 'unselected'"><ion-icon name="contact"></ion-icon></ion-col>
      </ion-row>
    </ion-item>

    <ion-item>
      <ion-row>
        <ion-col col-6><strong style="color: rgb(3, 93, 116) !important;">Collaborator</strong></ion-col>

        <ion-col col-1  (click)="change(4,'CanAdd')"  [ngClass]="permissionList[4]['CanAdd']==true ? 'selected' : 'unselected'"><ion-icon name="add"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(4,'CanModify')" [ngClass]="permissionList[4]['CanModify']==true ? 'selected' : 'unselected'"><ion-icon name="create"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(4,'CanDelete')" [ngClass]="permissionList[4]['CanDelete']==true ? 'selected' : 'unselected'"><ion-icon name="trash"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(4,'CanView')" [ngClass]="permissionList[4]['CanView']==true ? 'selected' : 'unselected'"><ion-icon name="eye"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(4,'CanOnlyHisUser')" [ngClass]="permissionList[4]['CanOnlyHisUser']==true ? 'selected' : 'unselected'"><ion-icon name="contact"></ion-icon></ion-col>
      </ion-row>
    </ion-item>

    <ion-item>
      <ion-row>
        <ion-col col-6><strong style="color: rgb(3, 93, 116) !important;">Permissions</strong></ion-col>

        <ion-col col-1  (click)="change(5,'CanAdd')"  [ngClass]="permissionList[5]['CanAdd']==true ? 'selected' : 'unselected'"><ion-icon name="add"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(5,'CanModify')" [ngClass]="permissionList[5]['CanModify']==true ? 'selected' : 'unselected'"><ion-icon name="create"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(5,'CanDelete')" [ngClass]="permissionList[5]['CanDelete']==true ? 'selected' : 'unselected'"><ion-icon name="trash"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(5,'CanView')" [ngClass]="permissionList[5]['CanView']==true ? 'selected' : 'unselected'"><ion-icon name="eye"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(5,'CanOnlyHisUser')" [ngClass]="permissionList[5]['CanOnlyHisUser']==true ? 'selected' : 'unselected'"><ion-icon name="contact"></ion-icon></ion-col>
      </ion-row>
    </ion-item>

    <ion-item>
      <ion-row>
        <ion-col col-6><strong style="color: rgb(3, 93, 116) !important;">Calendar</strong></ion-col>

        <ion-col col-1  (click)="change(6,'CanAdd')"  [ngClass]="permissionList[6]['CanAdd']==true ? 'selected' : 'unselected'"><ion-icon name="add"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(6,'CanModify')" [ngClass]="permissionList[6]['CanModify']==true ? 'selected' : 'unselected'"><ion-icon name="create"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(6,'CanDelete')" [ngClass]="permissionList[6]['CanDelete']==true ? 'selected' : 'unselected'"><ion-icon name="trash"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(6,'CanView')" [ngClass]="permissionList[6]['CanView']==true ? 'selected' : 'unselected'"><ion-icon name="eye"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(6,'CanOnlyHisUser')" [ngClass]="permissionList[6]['CanOnlyHisUser']==true ? 'selected' : 'unselected'"><ion-icon name="contact"></ion-icon></ion-col>
      </ion-row>
    </ion-item>

    <ion-item>
      <ion-row>
        <ion-col col-6><strong style="color: rgb(3, 93, 116) !important;">Configuration</strong></ion-col>

        <ion-col col-1  (click)="change(7,'CanAdd')"  [ngClass]="permissionList[7]['CanAdd']==true ? 'selected' : 'unselected'"><ion-icon name="add"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(7,'CanModify')" [ngClass]="permissionList[7]['CanModify']==true ? 'selected' : 'unselected'"><ion-icon name="create"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(7,'CanDelete')" [ngClass]="permissionList[7]['CanDelete']==true ? 'selected' : 'unselected'"><ion-icon name="trash"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(7,'CanView')" [ngClass]="permissionList[7]['CanView']==true ? 'selected' : 'unselected'"><ion-icon name="eye"></ion-icon></ion-col>
        &nbsp;
        <ion-col col-1 (click)="change(7,'CanOnlyHisUser')" [ngClass]="permissionList[7]['CanOnlyHisUser']==true ? 'selected' : 'unselected'"><ion-icon name="contact"></ion-icon></ion-col>
      </ion-row>
    </ion-item>

  </ion-list>


  <button ion-button outline (click)="updatePermission()">Update Permission</button>


</ion-content>
<!--Body ends here-->

<!--Footer starts here-->
<ion-footer style="background-color: #efefef; text-align: center;">
  <button ion-button clear (click)="navCtrl.setRoot('ProjectHomePage')" *ngIf="dataValidation.doesContainMenu('Projects')"><img src="../../assets/imgs/menu_proyectos_off.png" style="width: 15px !important;"/></button>
  <button ion-button clear (click)="navCtrl.setRoot('RecognitionsPage')" *ngIf="dataValidation.doesContainMenu('Recognition')"><img src="../../assets/imgs/menu_reconocimientos_off.png" style="width: 15px !important;"/></button>
  <button ion-button clear (click)="navCtrl.setRoot('RewardsPage')" *ngIf="dataValidation.doesContainMenu('Rewards')"><img src="../../assets/imgs/menu_recompensas_off.png" style="width: 15px !important;"/></button>
  <button ion-button clear *ngIf="dataValidation.doesContainMenu('Talents')" [disabled]=true><img src="../../assets/imgs/menu_talentos_off.png" style="width: 15px !important;"/></button>
  <button ion-button clear *ngIf="dataValidation.doesContainMenu('Collaborators')" [disabled]=true><img src="../../assets/imgs/menu_colaboradores_off.png" style="width: 15px !important;"/></button>
  <button ion-button clear (click)="navCtrl.setRoot('PermissionsPage')" *ngIf="dataValidation.doesContainMenu('Permissions')"><img src="../../assets/imgs/menu_permisos_on.png" style="width: 15px !important;"/></button>
  <button ion-button clear *ngIf="dataValidation.doesContainMenu('Calendar')" (click)="navCtrl.setRoot('EventListPage')"><img src="../../assets/imgs/menu_calendario_off.png" style="width: 15px !important;"/></button>
  <button ion-button clear *ngIf="dataValidation.doesContainMenu('Configuration')" (click)="navCtrl.setRoot('GeneralSettingsPage')"><img src="../../assets/imgs/menu_configuracion_off.png" style="width: 15px !important;"/></button>
</ion-footer>

<!--Footer ends here-->