{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { ComponentsModule } from './../../components/components.module';\r\nimport { StarProviderComponent } from './../../components/star-provider/star-provider';\r\nimport { RoundProgressModule } from 'angular-svg-round-progressbar';\r\nimport { ProjectModuleComponent } from './../../components/project-module/project-module';\r\nimport { UserInfoComponent } from './../../components/user-info/user-info';\r\nimport { NgModule,CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { HomePage } from './home';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    HomePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(HomePage),\r\n    RoundProgressModule,\r\n    ComponentsModule\r\n  ],\r\n})\r\nexport class HomePageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { AlertController } from 'ionic-angular';\r\nimport { MessageHelper } from './../../providers/message-helper';\r\nimport { DataValidation } from './../../Utils/DataValidation';\r\nimport { Codes } from './../../Utils/Codes';\r\nimport { HttpProvider } from './../../providers/data/data';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, Grid } from 'ionic-angular';\r\nimport { ModalController } from 'ionic-angular';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html',\r\n})\r\nexport class HomePage {\r\n\r\n  loadingStatus : any = 'Getting the list of users';\r\n  userList : any = null;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams,public modalCtrl: ModalController,\r\n    public httpCall : HttpProvider,public codes : Codes,public dataValidation : DataValidation,\r\n    public msgHelper : MessageHelper,public alertController : AlertController) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad HomePage');\r\n\r\n    //Start calling the API's\r\n    //Get user list\r\n    \r\n    var requestJson = {\r\n      'AppType':'W'\r\n    };\r\n\r\n    this.httpCall.callApi(requestJson,this.codes.API_GET_USER_DETAILS).then(responseJson => {\r\n\r\n      //Validate\r\n      if(this.dataValidation.isEmptyJson(responseJson)){\r\n        this.msgHelper.showErrorDialog('Error !!','Empty response received from server !!!');\r\n        return;\r\n      }\r\n      \r\n      this.userList  = responseJson['resultData'];\r\n\r\n      //Get the user mapped list\r\n      this.httpCall.callApi(requestJson, this.codes.API_GET_USER_MAP_LIST).then(getUserMappedListJson => {\r\n\r\n         //Validate\r\n      if(this.dataValidation.isEmptyJson(getUserMappedListJson)){\r\n        this.msgHelper.showErrorDialog('Error !!','Empty response received from server in Get User Map List API !!!');\r\n        return;\r\n      }\r\n     \r\n\r\n      if(!this.dataValidation.isEmptyJson(getUserMappedListJson['resultData'])){\r\n\r\n        var listOfMappings = getUserMappedListJson['resultData'];\r\n\r\n        //Fetch the list of group ids\r\n        this.httpCall.callApi(requestJson,this.codes.API_GET_USER_GROUP).then(usergroupjson => {\r\n\r\n          if(this.dataValidation.isEmptyJson(usergroupjson)){\r\n            this.msgHelper.showErrorDialog('Error !!','Empty response received from server in Get User Group List API !!!');\r\n            return;\r\n          }\r\n          var userGroups = usergroupjson['resultData'];\r\n          console.error(userGroups);\r\n          for(let i=0;i<=this.userList.length - 1;i++){\r\n            this.userList[i]['UserTypeName'] = this.getUserTypeName(listOfMappings,this.userList[i]['UserId']);\r\n            this.userList[i]['GroupName'] = this.getUserGroupId(listOfMappings,this.userList[i]['UserId'],userGroups);\r\n        }\r\n        });\r\n      }\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n  getUserGroupId(resultData,userId,userGroup){\r\n    for(let i = 0;i<= resultData.length -1;i++){\r\n      if(resultData[i]['UserId'] == userId){\r\n        for(let j=0;j<userGroup.length ; j++){\r\n          // alert(userGroup[j]['GroupId']+' '+ resultData[i]['UserGroupIds']);\r\n          if(userGroup[j]['UserGroupId'] == resultData[i]['UserGroupIds']){\r\n            return userGroup[j]['UserGroupName'];\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getUserTypeName(resultData,userId){\r\n    for(let i = 0;i<=resultData.length-1;i++){\r\n      if(resultData[i]['UserId'] == userId){\r\n        return resultData[i]['UserTypeName'];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  goToUserMessages(){\r\n    let userModal = this.modalCtrl.create('UserMessageNotificationListPage');\r\n    userModal.present();\r\n  }\r\n\r\n\r\n  goToProjectSelection(){\r\n    let projectSelectionModal = this.modalCtrl.create('ProjectInformationPage');\r\n    projectSelectionModal.present();\r\n  }\r\n\r\n  editUser(user){\r\n    let userModal = this.modalCtrl.create('UpdateUserPage',{'userinfo' : user});\r\n    userModal.present();\r\n  }\r\n\r\n\r\n  deleteUser(user){\r\n    const alert = this.alertController.create({\r\n      title: 'User to be deleted',\r\n      message: 'User is to be deleted. <strong>Are you sure</strong>!!!',\r\n      buttons: [\r\n        {\r\n          text: 'No',\r\n          role: 'no',\r\n          handler: () => {\r\n            \r\n          }\r\n        }, {\r\n          text: 'Yes',\r\n          handler: () => {\r\n            \r\n            //Call the delete user API\r\n            var requestJson={\r\n              \"UserId\": user['UserId'],\r\n              \"AppType\": \"W\"\r\n              };\r\n                        \r\n            var loading = this.msgHelper.showWorkingDialog('Deleting the user ...');\r\n\r\n            this.httpCall.callApi(requestJson,this.codes.API_DELETE_USER).then(responseJson=>{\r\n\r\n              loading.dismiss();\r\n\r\n              if(this.dataValidation.isEmptyJson(responseJson))\r\n              {\r\n                this.msgHelper.showErrorDialog('Error !!','Empty response received from server  !!!');\r\n                return;\r\n              } \r\n\r\n              if(responseJson['status']==1){\r\n                this.msgHelper.showToast('User deleted !!!');\r\n                this.ionViewDidLoad();\r\n              }\r\n\r\n            });\r\n\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n     alert.present();\r\n\r\n  }\r\n\r\n\r\n  addUser(){\r\n    let userModal = this.modalCtrl.create('AddUserPage');\r\n    userModal.present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}